extend type Customer {
  contractsByRootId: [Contract!]
    @delegate(schema: "contract", path: "contracts(customerId:$fields:id)")
  contractsByNestedId: [Contract!]
    @delegate(schema: "contract", path: "contracts(customerId:$fields:identifiers.customerId)")
}

extend type CustomerIdentifiers {
  contracts: [Contract!]
    @delegate(schema: "contract", path: "contracts(customerId:$fields:customerId)")
}